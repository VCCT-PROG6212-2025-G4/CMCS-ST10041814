@model CMCS.ViewModels.CreateClaimViewModel
@{
    ViewData["Title"] = "Create Claim";
    var role = Context.Session.GetString("Role");
}

<div class="card shadow p-4" style="max-width:600px;margin:auto;">
    <h3 class="mb-3">Create Claim</h3>

    <form method="post">

        @* HR Lecturer *@
        @if (role == "HR")
        {
            <div class="mb-3">
                <label class="form-label">Lecturer</label>
                <select asp-for="LecturerId" class="form-control" required>
                    <option value="">-- Select Lecturer --</option>
                    @foreach (var l in Model.Lecturers)
                    {
                        <option value="@l.Id">@l.Username</option>
                    }
                </select>
            </div>
        }

        <div class="mb-3">
            <label class="form-label">Student</label>
            <select asp-for="StudentId" class="form-control" required>
                <option value="">-- Select Student --</option>
                @foreach (var s in Model.Students)
                {
                    <option value="@s.Id">@s.Username</option>
                }
            </select>
        </div>

        <div class="mb-3">
            <label class="form-label">Month</label>
            <input asp-for="Month" class="form-control" required />
        </div>

        <div class="mb-3">
            <label class="form-label">Year</label>
            <input asp-for="Year" type="number" class="form-control" required />
        </div>

        <div class="mb-3">
            <label class="form-label">Hours Worked</label>
            <input asp-for="HoursWorked" type="number" step="0.1" class="form-control" required />
        </div>

        @if (role == "HR" || role == "Coordinator")
        {
            <div class="mb-3">
                <label class="form-label">Hour Rate</label>
                <input asp-for="HourRate" type="number" step="0.01"
                       class="form-control" required />
            </div>
        }
        else
        {
            <input asp-for="HourRate" type="hidden" />
        }

        <div class="d-flex justify-content-between">
            <button class="btn btn-primary">Create</button>
            <a asp-action="Index" class="btn btn-secondary">Cancel</a>
        </div>

    </form>
</div>
